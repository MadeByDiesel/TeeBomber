{% comment %}
  Hey there! This snippet is managed by Locksmith (uselocksmith.com). You can
  fiddle with what's below, but your changes will be reset the next time that
  Locksmith interacts with your shop.

  Last updated: Wed, 14 Oct 2015 22:18:21 +0000
  Integration version: v3.16
{% endcomment %}

{% include 'locksmith-variables' %}{% assign should_show_content_for_layout = false %} {% if locksmith_access_granted or locksmith_manual_lock %} {% assign should_show_content_for_layout = true %} {% elsif locksmith_server_rendered_content and locksmith_server_access_attempt_rejected != true %} {% assign should_show_content_for_layout = true %} {% endif %}{% assign should_show_server_frame = false %} {% if locksmith_server_lock and locksmith_server_access_attempt_rejected != true %} {% assign should_show_server_frame = true %} {% endif %}{% if should_show_content_for_layout %} {{ content_for_layout }} {% if locksmith_server_rendered_content %} <!--[if lte IE 8]> <script type="text/javascript"> Array.prototype.forEach||(Array.prototype.forEach=function(a){"use strict";if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var b=Object(this),c=b.length>>>0,d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)e in b&&a.call(d,b[e],e,b)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(a,b){function c(a){var c=b[a];b[a]=function(a){return e(c(a))}}function d(b,c,d){return(d=this).attachEvent("on"+b,function(b){b=b||a.event,b.preventDefault=b.preventDefault||function(){b.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0},c.call(d,b)})}function e(a,b){if(b=a.length)for(;b--;)a[b].addEventListener=d;else a.addEventListener=d;return a}a.addEventListener||(e([b,a]),"Element"in a?a.Element.prototype.addEventListener=d:(b.attachEvent("onreadystatechange",function(){e(b.all)}),c("getElementsByTagName"),c("getElementById"),c("createElement"),e(b.all)))}(window,document); </script> <![endif]--> <script type="text/javascript">!function(){/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v3.2.0 - 2015-09-04 *  Desc: Include this file in any page being loaded into an iframe *        to force the iframe to resize to the content size. *  Requires: iframeResizer.min.js on host page. *  Copyright: (c) 2015 David J. Bradshaw - dave@bradshaw.net *  License: MIT */ !function(e){"use strict";function t(t,n,o){"addEventListener"in e?t.addEventListener(n,o,!1):"attachEvent"in e&&t.attachEvent("on"+n,o)}function n(t,n,o){"removeEventListener"in e?t.removeEventListener(n,o,!1):"detachEvent"in e&&t.detachEvent("on"+n,o)}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e){var t,n,o,i=null,r=0,a=function(){r=It(),i=null,o=e.apply(t,n),i||(t=n=null)};return function(){var u=It();r||(r=u);var c=wt-(u-r);return t=this,n=arguments,0>=c||c>wt?(i&&(clearTimeout(i),i=null),r=u,o=e.apply(t,n),i||(t=n=null)):i||(i=setTimeout(a,c)),o}}function r(e){return st+"["+ft+"] "+e}function a(t){lt&&"object"==typeof e.console&&console.log(r(t))}function u(t){"object"==typeof e.console&&console.warn(r(t))}function c(){l(),a("Initialising iFrame ("+location.href+")"),s(),m(),f("background",U),f("padding",$),M(),y(),b(),g(),I(),E(),ut=k(),P("init","Init message from host page"),kt()}function l(){function e(e){return"true"===e?!0:!1}var t=at.substr(dt).split(":");ft=t[0],K=void 0!==t[1]?Number(t[1]):K,G=void 0!==t[2]?e(t[2]):G,lt=void 0!==t[3]?e(t[3]):lt,ct=void 0!==t[4]?Number(t[4]):ct,J=void 0!==t[6]?e(t[6]):J,X=t[7],it=void 0!==t[8]?t[8]:it,U=t[9],$=t[10],yt=void 0!==t[11]?Number(t[11]):yt,ut.enable=void 0!==t[12]?e(t[12]):!1,gt=void 0!==t[13]?t[13]:gt,St=void 0!==t[14]?t[14]:St}function s(){function t(){var t=e.iFrameResizer;a("Reading data from page: "+JSON.stringify(t)),Mt=void 0!==t.messageCallback?t.messageCallback:Mt,kt=void 0!==t.readyCallback?t.readyCallback:kt,pt=void 0!==t.targetOrigin?t.targetOrigin:pt,it=void 0!==t.heightCalculationMethod?t.heightCalculationMethod:it,St=void 0!==t.widthCalculationMethod?t.widthCalculationMethod:St}"iFrameResizer"in e&&Object===e.iFrameResizer.constructor&&t()}function d(e,t){return-1!==t.indexOf("-")&&(u("Negative CSS value ignored for "+e),t=""),t}function f(e,t){void 0!==t&&""!==t&&"null"!==t&&(document.body.style[e]=t,a("Body "+e+' set to "'+t+'"'))}function m(){void 0===X&&(X=K+"px"),d("margin",X),f("margin",X)}function g(){document.documentElement.style.height="",document.body.style.height="",a('HTML & body height set to "auto"')}function v(i){function r(){P(i.eventName,i.eventType)}var u={add:function(n){t(e,n,r)},remove:function(t){n(e,t,r)}};i.eventNames&&Array.prototype.map?(i.eventName=i.eventNames[0],i.eventNames.map(u[i.method])):u[i.method](i.eventName),a(o(i.method)+" event listener: "+i.eventType)}function h(e){v({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),v({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),v({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),v({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),v({method:e,eventType:"Input",eventName:"input"}),v({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),v({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),v({method:e,eventType:"Mouse Up",eventName:"mouseup"}),v({method:e,eventType:"Mouse Down",eventName:"mousedown"}),"child"===gt&&v({method:e,eventType:"IFrame Resized",eventName:"resize"})}function p(e,t,n,o){t!==e&&(e in n||(u(e+" is not a valid option for "+o+"CalculationMethod."),e=t),a(o+' calculation method set to "'+e+'"'))}function y(){p(it,ot,At,"height")}function b(){p(St,Ot,Nt,"width")}function E(){!0===J?(h("add"),C()):a("Auto Resize disabled")}function w(){a("Disable outgoing messages"),vt=!1}function T(){a("Remove event listener: Message"),n(e,"message",V)}function O(){null!==Y&&Y.disconnect()}function S(){w(),T(),h("remove"),O()}function M(){var e=document.createElement("div");e.style.clear="both",e.style.display="block",document.body.appendChild(e)}function k(){function n(){return{x:void 0!==e.pageXOffset?e.pageXOffset:document.documentElement.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:document.documentElement.scrollTop}}function o(e){var t=e.getBoundingClientRect(),o=n();return{x:parseInt(t.left,10)+parseInt(o.x,10),y:parseInt(t.top,10)+parseInt(o.y,10)}}function i(e){function t(e){var t=o(e);a("Moving to in page link (#"+n+") at x: "+t.x+" y: "+t.y),B(t.y,t.x,"scrollToOffset")}var n=e.split("#")[1]||e,i=decodeURIComponent(n),r=document.getElementById(i)||document.getElementsByName(i)[0];void 0!==r?t(r):(a("In page link (#"+n+") not found in iFrame, so sending to parent"),B(0,0,"inPageLink","#"+n))}function r(){""!==location.hash&&"#"!==location.hash&&i(location.href)}function c(){function e(e){function n(e){e.preventDefault(),i(this.getAttribute("href"))}"#"!==e.getAttribute("href")&&t(e,"click",n)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function l(){t(e,"hashchange",r)}function s(){setTimeout(r,et)}function d(){Array.prototype.forEach&&document.querySelectorAll?(a("Setting up location.hash handlers"),c(),l(),s()):u("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return ut.enable?d():a("In page linking not enabled"),{findTarget:i}}function I(){a("Enable public methods"),e.parentIFrame={close:function(){B(0,0,"close"),S()},getId:function(){return ft},moveToAnchor:function(e){ut.findTarget(e)},reset:function(){j("parentIFrame.reset")},scrollTo:function(e,t){B(t,e,"scrollTo")},scrollToOffset:function(e,t){B(t,e,"scrollToOffset")},sendMessage:function(e,t){B(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){it=e,y()},setWidthCalculationMethod:function(e){St=e,b()},setTargetOrigin:function(e){a("Set targetOrigin: "+e),pt=e},size:function(e,t){var n=""+(e?e:"")+(t?","+t:"");H(),P("size","parentIFrame.size("+n+")",e,t)}}}function A(){0!==ct&&(a("setInterval: "+ct+"ms"),setInterval(function(){P("interval","setInterval: "+ct)},Math.abs(ct)))}function N(){function t(e){function t(e){!1===e.complete&&(a("Attach listeners to "+e.src),e.addEventListener("load",r,!1),e.addEventListener("error",u,!1),s.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function n(e){s.splice(s.indexOf(e),1)}function o(e){a("Remove listeners from "+e.src),e.removeEventListener("load",r,!1),e.removeEventListener("error",u,!1),n(e)}function i(e,t,n){o(e.target),P(t,n+": "+e.target.src,void 0,void 0)}function r(e){i(e,"imageLoad","Image loaded")}function u(e){i(e,"imageLoadFailed","Image load failed")}function c(e){P("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}function l(){var e=document.querySelector("body"),t={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return f=new d(c),a("Enable MutationObserver"),f.observe(e,t),f}var s=[],d=e.MutationObserver||e.WebKitMutationObserver,f=l();return{disconnect:function(){"disconnect"in f&&(a("Disconnect MutationObserver"),f.disconnect(),s.forEach(o))}}}function C(){var t=0>ct;e.MutationObserver||e.WebKitMutationObserver?t?A():Y=N():(a("MutationObserver not supported in this browser!"),A())}function x(e){function t(e){var t=/^\d+(px)?$/i;if(t.test(e))return parseInt(e,Q);var o=n.style.left,i=n.runtimeStyle.left;return n.runtimeStyle.left=n.currentStyle.left,n.style.left=e||0,e=n.style.pixelLeft,n.style.left=o,n.runtimeStyle.left=i,e}var n=document.body,o=0;return"defaultView"in document&&"getComputedStyle"in document.defaultView?(o=document.defaultView.getComputedStyle(n,null),o=null!==o?o[e]:0):o=t(n.currentStyle[e]),parseInt(o,Q)}function z(e){e>wt/2&&(wt=2*e,a("Event throttle increased to "+wt+"ms"))}function L(e,t){for(var n=t.length,i=0,r=0,u=o(e),c=It(),l=0;n>l;l++)i=t[l].getBoundingClientRect()[e]+x("margin"+u),i>r&&(r=i);return c=It()-c,a("Parsed "+n+" HTML elements"),a("Element position calculated in "+c+"ms"),z(c),r}function R(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function F(e,t){function n(){return u("No tagged elements ("+t+") found on page"),nt}var o=document.querySelectorAll("["+t+"]");return 0===o.length?n():L(e,o)}function q(){return document.querySelectorAll("body *")}function D(e,t,n,o){function i(){nt=d,Tt=f,B(nt,Tt,e)}function r(){function e(e,t){var n=Math.abs(e-t)<=yt;return!n}return d=void 0!==n?n:At[it](),f=void 0!==o?o:Nt[St](),e(nt,d)||G&&e(Tt,f)}function u(){return!(e in{init:1,interval:1,size:1})}function c(){return it in mt||G&&St in mt}function l(){a("No change in size detected")}function s(){u()&&c()?j(t):e in{interval:1}||l()}var d,f;r()||"init"===e?(H(),i()):s()}function P(e,t,n,o){function i(){e in{reset:1,resetPage:1,init:1}||a("Trigger event: "+t)}function r(){return bt&&e in Z}r()?a("Trigger event cancelled: "+e):(i(),Ct(e,t,n,o))}function H(){bt||(bt=!0,a("Trigger event lock on")),clearTimeout(Et),Et=setTimeout(function(){bt=!1,a("Trigger event lock off"),a("--")},et)}function W(e){nt=At[it](),Tt=Nt[St](),B(nt,Tt,e)}function j(e){var t=it;it=ot,a("Reset trigger event: "+e),H(),W("reset"),it=t}function B(e,t,n,o,i){function r(){void 0===i?i=pt:a("Message targetOrigin: "+i)}function u(){var r=e+":"+t,u=ft+":"+r+":"+n+(void 0!==o?":"+o:"");a("Sending message to host page ("+u+")"),ht.postMessage(st+u,i)}!0===vt&&(r(),u())}function V(t){function n(){return st===(""+t.data).substr(0,dt)}function o(){at=t.data,ht=t.source,c(),tt=!1,setTimeout(function(){rt=!1},et)}function i(){rt?a("Page reset ignored by init"):(a("Page size reset by host page"),W("resetPage"))}function r(){P("resizeParent","Parent window requested size check")}function u(){var e=s();ut.findTarget(e)}function l(){return t.data.split("]")[1].split(":")[0]}function s(){return t.data.substr(t.data.indexOf(":")+1)}function d(){return"iFrameResize"in e}function f(){var e=s();a("MessageCallback called from parent: "+e),Mt(JSON.parse(e)),a(" --")}function m(){return t.data.split(":")[2]in{"true":1,"false":1}}function g(){switch(l()){case"reset":i();break;case"resize":r();break;case"moveToAnchor":u();break;case"message":f();break;default:!d()&&!m()}}function v(){!1===tt?g():m()?o():a('Ignored message of type "'+l()+'". Received before initialization.')}n()&&v()}function _(){"loading"!==document.readyState&&e.parent.postMessage("[iFrameResizerChild]Ready","*")}var J=!0,Q=10,U="",K=0,X="",Y=null,$="",G=!1,Z={resize:1,click:1},et=128,tt=!0,nt=1,ot="bodyOffset",it=ot,rt=!0,at="",ut={},ct=32,lt=!1,st="[iFrameSizer]",dt=st.length,ft="",mt={max:1,min:1,bodyScroll:1,documentElementScroll:1},gt="child",vt=!0,ht=e.parent,pt="*",yt=0,bt=!1,Et=null,wt=0,Tt=1,Ot="scroll",St=Ot,Mt=function(){u("MessageCallback function not defined")},kt=function(){},It=Date.now||function(){return(new Date).getTime()},At={bodyOffset:function(){return document.body.offsetHeight+x("marginTop")+x("marginBottom")},offset:function(){return At.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,R(At))},min:function(){return Math.min.apply(null,R(At))},grow:function(){return At.max()},lowestElement:function(){return Math.max(At.bodyOffset(),L("bottom",q()))},taggedElement:function(){return F("bottom","data-iframe-height")}},Nt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Nt.bodyScroll(),Nt.documentElementScroll())},max:function(){return Math.max.apply(null,R(Nt))},min:function(){return Math.min.apply(null,R(Nt))},leftMostElement:function(){return L("left",q())},taggedElement:function(){return F("left","data-iframe-width")}},Ct=i(D);t(e,"message",V),_()}(window||{});var e=function(){try{var e,t,n,o=[],i=[];if(document.querySelectorAll?(o=document.querySelectorAll("a"),i=document.querySelectorAll("form")):"function"==typeof jQuery&&(o=jQuery('a[href=""]'),i=jQuery("form")),window.parent!==window){for(var r=0;r<o.length;r++)e=o[r],t=e.getAttribute("href"),t?"#"===t?e.target="_self":e.pathname===window.location.pathname&&(e.pathname=window.parent.location.pathname):e.href=window.parent.location.pathname,e.target||(e.target="_parent");for(var a=0;a<i.length;a++)n=i[a],"locksmith-passcode-form"!==n.id&&(n.target||(n.target="_parent"))}else{var u="{{ locksmith_path }}";u&&(window.location=u)}}catch(c){console.error&&console.error(c)}};window.addEventListener&&window.addEventListener("load",e)}();</script> <style type="text/css"> /* these are displayed in the parent frame; no need to display them here */ #admin_bar_iframe, #tidio-chat-side-button { display: none; } /* some themes like to set height:100%; for html and body, which screws up the iframe sizing */ html, body { height: auto; min-height: 100%; overflow: auto; } </style> {% endif %} {% else %} {% if should_show_server_frame %} <p style="margin: 20px; text-align: center;"> Loading&hellip; <noscript><b>This content requires Javascript to be enabled in your browser!</b></noscript> </p> <div id="locksmith-frame-container" style="-webkit-overflow-scrolling: touch; overflow: scroll;"></div> <script type="text/javascript">!function(){/*! iFrame Resizer (iframeSizer.min.js ) - v3.2.0 - 2015-09-04 *  Desc: Force cross domain iframes to size to content. *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame. *  Copyright: (c) 2015 David J. Bradshaw - dave@bradshaw.net *  License: MIT */ !function(e){"use strict";function n(n,t,i){"addEventListener"in e?n.addEventListener(t,i,!1):"attachEvent"in e&&n.attachEvent("on"+t,i)}function t(){var n,t=["moz","webkit","o","ms"];for(n=0;n<t.length&&!W;n+=1)W=e[t[n]+"RequestAnimationFrame"];W||a("setup","RequestAnimationFrame not supported")}function i(n){var t="Host page: "+n;return e.top!==e.self&&(t=e.parentIFrame&&e.parentIFrame.getId?e.parentIFrame.getId()+": "+n:"Nested host page: "+n),t}function o(e){return S+"["+i(e)+"]"}function r(e){return A[e]?A[e].log:E}function a(e,n){s("log",e,n,r(e))}function c(e,n){s("info",e,n,r(e))}function u(e,n){s("warn",e,n,!0)}function s(n,t,i,r){!0===r&&"object"==typeof e.console&&console[n](o(t),i)}function f(n){function t(){function e(){b(L),g(U)}o("Height"),o("Width"),y(e,L,"resetPage")}function i(){var e=j.substr(P).split(":");return{iframe:A[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}function o(e){var n=Number(A[U]["max"+e]),t=Number(A[U]["min"+e]),i=e.toLowerCase(),o=Number(L[i]);a(U,"Checking "+i+" is in range "+t+"-"+n),t>o&&(o=t,a(U,"Set "+i+" to min value")),o>n&&(o=n,a(U,"Set "+i+" to max value")),L[i]=""+o}function r(){function e(){function e(){var e=0,n=!1;for(a(U,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===t){n=!0;break}return n}function n(){var e=A[U].remoteHost;return a(U,"Checking connection is from: "+e),t===e}return i.constructor===Array?e():n()}var t=n.origin,i=A[U].checkOrigin;if(i&&""+t!="null"&&!e())throw new Error("Unexpected message received from: "+t+" for "+L.iframe.id+". Message was: "+n.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function s(){return S===(""+j).substr(0,P)&&j.substr(P).split(":")[0]in A}function f(){var e=L.type in{"true":1,"false":1,undefined:1};return e&&a(U,"Ignoring init message from meta parent page"),e}function k(e){return j.substr(j.indexOf(":")+T+e)}function x(e){a(U,"MessageCallback passed: {iframe: "+L.iframe.id+", message: "+e+"}"),R("messageCallback",{iframe:L.iframe,message:JSON.parse(e)}),a(U,"--")}function F(){var e=!0;return null===L.iframe&&(u(U,"IFrame ("+L.id+") not found"),e=!1),e}function M(e){var n=e.getBoundingClientRect();return m(U),{x:Math.floor(Number(n.left)+Number(H.x)),y:Math.floor(Number(n.top)+Number(H.y))}}function z(n){function t(){H=c,I(),a(U,"--")}function i(){return{x:Number(L.width)+r.x,y:Number(L.height)+r.y}}function o(){e.parentIFrame?e.parentIFrame["scrollTo"+(n?"Offset":"")](c.x,c.y):u(U,"Unable to scroll to requested position, window.parentIFrame not found")}var r=n?M(L.iframe):{x:0,y:0},c=i();a(U,"Reposition requested from iFrame (offset x:"+r.x+" y:"+r.y+")"),e.top!==e.self?o():t()}function I(){!1!==R("scrollCallback",H)?g(U):h()}function C(n){function t(){var e=M(c);a(U,"Moving to in page link (#"+o+") at x: "+e.x+" y: "+e.y),H={x:e.x,y:e.y},I(),a(U,"--")}function i(){e.parentIFrame?e.parentIFrame.moveToAnchor(o):console.log(U,"In page link #"+o+" not found and window.parentIFrame not found")}var o=n.split("#")[1]||"",r=decodeURIComponent(o),c=document.getElementById(r)||document.getElementsByName(r)[0];c?t():e.top!==e.self?i():consolelog(U,"In page link #"+o+" not found")}function R(e,n){return l(U,e,n)}function E(){switch(A[U].firstRun&&W(),L.type){case"close":d(L.iframe);break;case"message":x(k(6));break;case"scrollTo":z(!1);break;case"scrollToOffset":z(!0);break;case"inPageLink":C(k(9));break;case"reset":p(L);break;case"init":t(),R("initCallback",L.iframe),R("resizedCallback",L);break;default:t(),R("resizedCallback",L)}}function O(e){var n=!0;return A[e]||(n=!1,u(L.type+" No settings for "+e+". Message was: "+j)),n}function N(){for(var e in A)v("iFrame requested init",w(e),document.getElementById(e),e)}function W(){A[U].firstRun=!1}var j=n.data,L={},U=null;"[iFrameResizerChild]Ready"===j?N():s()?(L=i(),U=q=L.id,!f()&&O(U)&&(a(U,"Received: "+j),F()&&r()&&E())):c(U,"Ignored: "+j)}function l(e,n,t){var i=null,o=null;if(A[e]){if(i=A[e][n],"function"!=typeof i)throw new TypeError(n+" on iFrame["+e+"] is not a function");o=i(t)}return o}function d(e){var n=e.id;a(n,"Removing iFrame: "+n),e.parentNode.removeChild(e),l(n,"closedCallback",n),a(n,"--"),delete A[n]}function m(n){null===H&&(H={x:void 0!==e.pageXOffset?e.pageXOffset:document.documentElement.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:document.documentElement.scrollTop},a(n,"Get page position: "+H.x+","+H.y))}function g(n){null!==H&&(e.scrollTo(H.x,H.y),a(n,"Set page position: "+H.x+","+H.y),h())}function h(){H=null}function p(e){function n(){b(e),v("reset","reset",e.iframe,e.id)}a(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),m(e.id),y(n,e,"reset")}function b(e){function n(n){e.iframe.style[n]=e[n]+"px",a(e.id,"IFrame ("+o+") "+n+" set to "+e[n]+"px")}function t(n){O||"0"!==e[n]||(O=!0,a(o,"Hidden iFrame detected, creating visibility listener"),M())}function i(e){n(e),t(e)}var o=e.iframe.id;A[o]&&(A[o].sizeHeight&&i("height"),A[o].sizeWidth&&i("width"))}function y(e,n,t){t!==n.type&&W?(a(n.id,"Requesting animation frame"),W(e)):e()}function v(e,n,t,i){function o(){a(i,"["+e+"] Sending msg to iframe["+i+"] ("+n+")"),t.contentWindow.postMessage(S+n,u)}function r(){c(i,"["+e+"] IFrame("+i+") not found"),A[i]&&delete A[i]}i=i||t.id;var u=A[i].targetOrigin;t&&"contentWindow"in t?o():r()}function w(e){return e+":"+A[e].bodyMarginV1+":"+A[e].sizeWidth+":"+A[e].log+":"+A[e].interval+":"+A[e].enablePublicMethods+":"+A[e].autoResize+":"+A[e].bodyMargin+":"+A[e].heightCalculationMethod+":"+A[e].bodyBackground+":"+A[e].bodyPadding+":"+A[e].tolerance+":"+A[e].inPageLinks+":"+A[e].resizeFrom+":"+A[e].widthCalculationMethod}function k(e,t){function i(){function n(n){1/0!==A[k][n]&&0!==A[k][n]&&(e.style[n]=A[k][n]+"px",a(k,"Set "+n+" = "+A[k][n]+"px"))}function t(e){if(A[k]["min"+e]>A[k]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}t("Height"),t("Width"),n("maxHeight"),n("minHeight"),n("maxWidth"),n("minWidth")}function o(n){return q=n,""===n&&(e.id=n=(t.id||U.id)+R++,E=(t||{}).log,q=n,a(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}function r(){a(k,"IFrame scrolling "+(A[k].scrolling?"enabled":"disabled")+" for "+k),e.style.overflow=!1===A[k].scrolling?"hidden":"auto",e.scrolling=!1===A[k].scrolling?"no":"yes"}function c(){("number"==typeof A[k].bodyMargin||"0"===A[k].bodyMargin)&&(A[k].bodyMarginV1=A[k].bodyMargin,A[k].bodyMargin=""+A[k].bodyMargin+"px")}function s(){var n=A[k].firstRun,t=A[k].heightCalculationMethod in j;!n&&t&&p({iframe:e,height:0,width:0,type:"init"})}function f(){Function.prototype.bind&&(A[k].iframe.iFrameResizer={close:d.bind(null,A[k].iframe),resize:v.bind(null,"Window resize","resize",A[k].iframe),moveToAnchor:function(e){v("Move to anchor","inPageLink:"+e,A[k].iframe,k)},sendMessage:function(e){e=JSON.stringify(e),v("Send Message","message:"+e,A[k].iframe,k)}})}function l(t){function i(){v("iFrame.onload",t,e),s()}n(e,"load",i),v("init",t,e)}function m(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}function g(e){for(var n in U)U.hasOwnProperty(n)&&(A[k][n]=e.hasOwnProperty(n)?e[n]:U[n])}function h(e){return""===e||"file://"===e?"*":e}function b(n){n=n||{},A[k]={firstRun:!0,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")},m(n),g(n),A[k].targetOrigin=!0===A[k].checkOrigin?h(A[k].remoteHost):"*"}function y(){return k in A&&"iFrameResizer"in e}var k=o(e.id);y()?u(k,"Ignored iFrame, already setup."):(b(t),r(),i(),c(),l(w(k)),f())}function x(e,n){null===L&&(L=setTimeout(function(){L=null,e()},n))}function F(e){return null!==e.offsetParent}function M(){function n(){function e(e){function n(n){return"0px"===A[e].iframe.style[n]}F(A[e].iframe)&&(n("height")||n("width"))&&v("Visibility change","resize",A[e].iframe,e)}for(var n in A)e(n)}function t(e){a("window","Mutation observed: "+e[0].target+" "+e[0].type),x(n,16)}function i(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},i=new o(t);i.observe(e,n)}var o=e.MutationObserver||e.WebKitMutationObserver;o&&i()}function z(){function t(e){function n(){o("Window "+e,"resize")}a("window","Trigger event: "+e),x(n,16)}function i(){function e(){o("Tab Visable","resize")}"hidden"!==document.visibilityState&&(a("document","Trigger event: Visiblity change"),x(e,16))}function o(e,n){function t(e){return"parent"===A[e].resizeFrom&&A[e].autoResize&&!A[e].firstRun}for(var i in A)t(i)&&v(e,n,document.getElementById(i),i)}n(e,"message",f),n(e,"resize",function(){t("resize")}),n(document,"visibilitychange",i),n(document,"-webkit-visibilitychange",i),n(e,"focusin",function(){t("focus")}),n(e,"focus",function(){t("focus")})}function I(){function e(e,t){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">");k(t,e),n.push(t)}var n;return t(),z(),function(t,i){switch(n=[],typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),e.bind(void 0,t));break;case"object":e(t,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return n}}function C(e){e.fn.iFrameResize=function(e){return this.filter("iframe").each(function(n,t){k(t,e)}).end()}}var R=0,E=!1,O=!1,N="message",T=N.length,S="[iFrameSizer]",P=S.length,H=null,W=e.requestAnimationFrame,j={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},A={},L=null,q="Host Page",U={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){u("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};e.jQuery&&C(jQuery),"function"==typeof define&&define.amd?define([],I):"object"==typeof module&&"object"==typeof module.exports?module.exports=I():e.iFrameResize=e.iFrameResize||I()}(window||{});var e=function(e){return(document.cookie.match("(^|; )"+e+"=([^;]*)")||0)[2]},n=function(){try{return JSON.parse(e("locksmith-params")||"{}")}catch(n){return{}}},t=n(),i=[];for(var o in t)i.push(o+"="+t[o]);var r="{{ locksmith_path }}",a=document.getElementById("locksmith-frame-container"),c=document.createElement("iframe"),u="style";c.src="/apps/locksmith/resource"+(window.location.search||"?")+"&path="+encodeURIComponent(r||window.location.pathname)+"&search="+encodeURIComponent(window.location.search)+"&customer_id="+encodeURIComponent("{{ customer.id }}")+"&customer_email="+encodeURIComponent("{{ customer.email }}")+"&"+i.join("&"),c[u].border="none",c[u].display="block",c[u].zIndex="99999999",c[u].position="absolute",c[u].width="100%",c[u].height="100%",c[u].top="0",c[u].right="0",c[u].left="0",document.body.appendChild(c),iFrameResize({log:!1,inPageLinks:!0}),a.onclick=a.ontouchmove=function(e){e.stopImmediatePropagation()},document.ontouchmove=document.ontouchstart=function(e){e.preventDefault()};var s=function(){window.location.hash||window.scrollTo(0,0)};c.attachEvent?c.attachEvent("onload",s):c.addEventListener("load",s,!1),window.__lsp=function(e){var t=n();for(var i in e)t[i]=e[i];document.cookie="locksmith-params=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",document.cookie="locksmith-params="+JSON.stringify(t)+"; path=/"}}();</script> {% elsif customer %} <p><strong>This content is protected, but it doesn't look like you have access.</strong> If you feel this is a mistake, please contact the store owner.</p> {% else %} {% if shop.customer_accounts_enabled %} <script src="//cdn.shopify.com/s/assets/themes_support/shopify_common-bd85aab9a33d5a652989fc531764decd.js" type="text/javascript"></script> {% endif %}<p><strong>This content is protected</strong> - please log in with your customer account to continue.</p>{% if shop.customer_accounts_enabled %} <!-- /templates/customers/login.liquid --><div class="grid"><div class="grid__item large--one-third push--large--one-third text-center"><header class="section-header"> <h1>{{ 'customer.login.title' | t }}</h1> <hr class="hr--small"> </header>{% comment %} If a user has successfully requested a new password, the form.posted_successfully? variable is set to true within the 'recover_customer_password' form only. Within that form you'll see the variable 'resetPassword' set to true, which is used to initialize timber.resetPasswordSuccess(). {% endcomment %} <div class="note form-success" id="ResetSuccess" style="display:none;"> {{ 'customer.recover_password.success' | t }} </div><div id="CustomerLoginForm" class="form-vertical"> {% form 'customer_login' %}{{ form.errors | default_errors }}<label for="CustomerEmail" class="hidden-label">{{ 'customer.login.email' | t }}</label> <input type="email" name="customer[email]" id="CustomerEmail" class="input-full{% if form.errors contains 'email' %} error{% endif %}" placeholder="{{ 'customer.login.email' | t }}" autocorrect="off" autocapitalize="off" autofocus>{% if form.password_needed %} <label for="CustomerPassword" class="hidden-label">{{ 'customer.login.password' | t }}</label> <input type="password" value="" name="customer[password]" id="CustomerPassword" class="input-full{% if form.errors contains 'password' %} error{% endif %}" placeholder="{{ 'customer.login.password' | t }}"> {% endif %}<p> <input type="submit" class="btn btn--full" value="{{ 'customer.login.sign_in' | t }}"> </p> <p>{{ 'layout.customer.create_account' | t | customer_register_link }}</p> <p><a href="{{ shop.url }}">{{ 'customer.login.cancel' | t }}</a></p> {% if form.password_needed %} <p><a href="#recover" id="RecoverPassword">{{ 'customer.login.forgot_password' | t }}</a></p> {% endif %}<input type="hidden" id="login_checkout_url" name="checkout_url" value="" />{% endform %} </div>{% comment %} JS shows/hides this form in timber.loginForms() {% endcomment %} <div id="RecoverPasswordForm" style="display: none;"><h2>{{ 'customer.recover_password.title' | t }}</h2> <p>{{ 'customer.recover_password.subtext' | t }}</p> <hr class="hr--small"><div class="form-vertical"> {% form 'recover_customer_password' %}{{ form.errors | default_errors }}{% comment %} Assign variable to be used after timber.init() is run in theme.liquid {% endcomment %} {% if form.posted_successfully? %} {% assign resetPassword = true %} {% endif %}<label for="RecoverEmail" class="hidden-label">{{ 'customer.recover_password.email' | t }}</label> <input type="email" value="" name="email" id="RecoverEmail" class="input-full" placeholder="{{ 'customer.recover_password.email' | t }}" autocorrect="off" autocapitalize="off"><p> <input type="submit" class="btn btn--full" value="{{ 'customer.recover_password.submit' | t }}"> </p> <button type="button" id="HideRecoverPasswordLink">{{ 'customer.recover_password.cancel' | t }}</button> <input type="hidden" id="login_checkout_url" name="checkout_url" value="" />{% endform %} </div></div>{% comment %} If accounts are set as optional, the following will be shown as an option during checkout, not on the default /login page. {% endcomment %} {% if shop.checkout.guest_login %} <hr class="hr--clear"><h1>{{ 'customer.login.guest_title' | t }}</h1> <hr class="hr--small">{% form 'guest_login' %} <input type="submit" class="btn" value="{{ 'customer.login.guest_continue' | t }}"> <input type="hidden" id="login_checkout_url" name="checkout_url" value="" />{% endform %} {% endif %}</div></div><script type="text/javascript"> document.body.className = 'template-customers-login'; document.body.id = 'account'; window.document.title = 'Account â€“ Teebomber'; if (document.getElementsByName) { var nodes = document.getElementsByName('checkout_url'); for (var i = 0; i < nodes.length; i++) { nodes[i].value = '{{ locksmith_path }}' || window.location.pathname; } } else { document.getElementById('login_checkout_url').value = window.location.pathname; } </script> {% if locksmith_server_access_attempt_rejected %} <script type="text/javascript">!function(){/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v3.2.0 - 2015-09-04 *  Desc: Include this file in any page being loaded into an iframe *        to force the iframe to resize to the content size. *  Requires: iframeResizer.min.js on host page. *  Copyright: (c) 2015 David J. Bradshaw - dave@bradshaw.net *  License: MIT */ !function(e){"use strict";function t(t,n,o){"addEventListener"in e?t.addEventListener(n,o,!1):"attachEvent"in e&&t.attachEvent("on"+n,o)}function n(t,n,o){"removeEventListener"in e?t.removeEventListener(n,o,!1):"detachEvent"in e&&t.detachEvent("on"+n,o)}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e){var t,n,o,i=null,r=0,a=function(){r=It(),i=null,o=e.apply(t,n),i||(t=n=null)};return function(){var u=It();r||(r=u);var c=wt-(u-r);return t=this,n=arguments,0>=c||c>wt?(i&&(clearTimeout(i),i=null),r=u,o=e.apply(t,n),i||(t=n=null)):i||(i=setTimeout(a,c)),o}}function r(e){return st+"["+ft+"] "+e}function a(t){lt&&"object"==typeof e.console&&console.log(r(t))}function u(t){"object"==typeof e.console&&console.warn(r(t))}function c(){l(),a("Initialising iFrame ("+location.href+")"),s(),m(),f("background",U),f("padding",$),M(),y(),b(),g(),I(),E(),ut=k(),P("init","Init message from host page"),kt()}function l(){function e(e){return"true"===e?!0:!1}var t=at.substr(dt).split(":");ft=t[0],K=void 0!==t[1]?Number(t[1]):K,G=void 0!==t[2]?e(t[2]):G,lt=void 0!==t[3]?e(t[3]):lt,ct=void 0!==t[4]?Number(t[4]):ct,J=void 0!==t[6]?e(t[6]):J,X=t[7],it=void 0!==t[8]?t[8]:it,U=t[9],$=t[10],yt=void 0!==t[11]?Number(t[11]):yt,ut.enable=void 0!==t[12]?e(t[12]):!1,gt=void 0!==t[13]?t[13]:gt,St=void 0!==t[14]?t[14]:St}function s(){function t(){var t=e.iFrameResizer;a("Reading data from page: "+JSON.stringify(t)),Mt=void 0!==t.messageCallback?t.messageCallback:Mt,kt=void 0!==t.readyCallback?t.readyCallback:kt,pt=void 0!==t.targetOrigin?t.targetOrigin:pt,it=void 0!==t.heightCalculationMethod?t.heightCalculationMethod:it,St=void 0!==t.widthCalculationMethod?t.widthCalculationMethod:St}"iFrameResizer"in e&&Object===e.iFrameResizer.constructor&&t()}function d(e,t){return-1!==t.indexOf("-")&&(u("Negative CSS value ignored for "+e),t=""),t}function f(e,t){void 0!==t&&""!==t&&"null"!==t&&(document.body.style[e]=t,a("Body "+e+' set to "'+t+'"'))}function m(){void 0===X&&(X=K+"px"),d("margin",X),f("margin",X)}function g(){document.documentElement.style.height="",document.body.style.height="",a('HTML & body height set to "auto"')}function v(i){function r(){P(i.eventName,i.eventType)}var u={add:function(n){t(e,n,r)},remove:function(t){n(e,t,r)}};i.eventNames&&Array.prototype.map?(i.eventName=i.eventNames[0],i.eventNames.map(u[i.method])):u[i.method](i.eventName),a(o(i.method)+" event listener: "+i.eventType)}function h(e){v({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),v({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),v({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),v({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),v({method:e,eventType:"Input",eventName:"input"}),v({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),v({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),v({method:e,eventType:"Mouse Up",eventName:"mouseup"}),v({method:e,eventType:"Mouse Down",eventName:"mousedown"}),"child"===gt&&v({method:e,eventType:"IFrame Resized",eventName:"resize"})}function p(e,t,n,o){t!==e&&(e in n||(u(e+" is not a valid option for "+o+"CalculationMethod."),e=t),a(o+' calculation method set to "'+e+'"'))}function y(){p(it,ot,At,"height")}function b(){p(St,Ot,Nt,"width")}function E(){!0===J?(h("add"),C()):a("Auto Resize disabled")}function w(){a("Disable outgoing messages"),vt=!1}function T(){a("Remove event listener: Message"),n(e,"message",V)}function O(){null!==Y&&Y.disconnect()}function S(){w(),T(),h("remove"),O()}function M(){var e=document.createElement("div");e.style.clear="both",e.style.display="block",document.body.appendChild(e)}function k(){function n(){return{x:void 0!==e.pageXOffset?e.pageXOffset:document.documentElement.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:document.documentElement.scrollTop}}function o(e){var t=e.getBoundingClientRect(),o=n();return{x:parseInt(t.left,10)+parseInt(o.x,10),y:parseInt(t.top,10)+parseInt(o.y,10)}}function i(e){function t(e){var t=o(e);a("Moving to in page link (#"+n+") at x: "+t.x+" y: "+t.y),B(t.y,t.x,"scrollToOffset")}var n=e.split("#")[1]||e,i=decodeURIComponent(n),r=document.getElementById(i)||document.getElementsByName(i)[0];void 0!==r?t(r):(a("In page link (#"+n+") not found in iFrame, so sending to parent"),B(0,0,"inPageLink","#"+n))}function r(){""!==location.hash&&"#"!==location.hash&&i(location.href)}function c(){function e(e){function n(e){e.preventDefault(),i(this.getAttribute("href"))}"#"!==e.getAttribute("href")&&t(e,"click",n)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function l(){t(e,"hashchange",r)}function s(){setTimeout(r,et)}function d(){Array.prototype.forEach&&document.querySelectorAll?(a("Setting up location.hash handlers"),c(),l(),s()):u("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return ut.enable?d():a("In page linking not enabled"),{findTarget:i}}function I(){a("Enable public methods"),e.parentIFrame={close:function(){B(0,0,"close"),S()},getId:function(){return ft},moveToAnchor:function(e){ut.findTarget(e)},reset:function(){j("parentIFrame.reset")},scrollTo:function(e,t){B(t,e,"scrollTo")},scrollToOffset:function(e,t){B(t,e,"scrollToOffset")},sendMessage:function(e,t){B(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){it=e,y()},setWidthCalculationMethod:function(e){St=e,b()},setTargetOrigin:function(e){a("Set targetOrigin: "+e),pt=e},size:function(e,t){var n=""+(e?e:"")+(t?","+t:"");H(),P("size","parentIFrame.size("+n+")",e,t)}}}function A(){0!==ct&&(a("setInterval: "+ct+"ms"),setInterval(function(){P("interval","setInterval: "+ct)},Math.abs(ct)))}function N(){function t(e){function t(e){!1===e.complete&&(a("Attach listeners to "+e.src),e.addEventListener("load",r,!1),e.addEventListener("error",u,!1),s.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function n(e){s.splice(s.indexOf(e),1)}function o(e){a("Remove listeners from "+e.src),e.removeEventListener("load",r,!1),e.removeEventListener("error",u,!1),n(e)}function i(e,t,n){o(e.target),P(t,n+": "+e.target.src,void 0,void 0)}function r(e){i(e,"imageLoad","Image loaded")}function u(e){i(e,"imageLoadFailed","Image load failed")}function c(e){P("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}function l(){var e=document.querySelector("body"),t={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return f=new d(c),a("Enable MutationObserver"),f.observe(e,t),f}var s=[],d=e.MutationObserver||e.WebKitMutationObserver,f=l();return{disconnect:function(){"disconnect"in f&&(a("Disconnect MutationObserver"),f.disconnect(),s.forEach(o))}}}function C(){var t=0>ct;e.MutationObserver||e.WebKitMutationObserver?t?A():Y=N():(a("MutationObserver not supported in this browser!"),A())}function x(e){function t(e){var t=/^\d+(px)?$/i;if(t.test(e))return parseInt(e,Q);var o=n.style.left,i=n.runtimeStyle.left;return n.runtimeStyle.left=n.currentStyle.left,n.style.left=e||0,e=n.style.pixelLeft,n.style.left=o,n.runtimeStyle.left=i,e}var n=document.body,o=0;return"defaultView"in document&&"getComputedStyle"in document.defaultView?(o=document.defaultView.getComputedStyle(n,null),o=null!==o?o[e]:0):o=t(n.currentStyle[e]),parseInt(o,Q)}function z(e){e>wt/2&&(wt=2*e,a("Event throttle increased to "+wt+"ms"))}function L(e,t){for(var n=t.length,i=0,r=0,u=o(e),c=It(),l=0;n>l;l++)i=t[l].getBoundingClientRect()[e]+x("margin"+u),i>r&&(r=i);return c=It()-c,a("Parsed "+n+" HTML elements"),a("Element position calculated in "+c+"ms"),z(c),r}function R(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function F(e,t){function n(){return u("No tagged elements ("+t+") found on page"),nt}var o=document.querySelectorAll("["+t+"]");return 0===o.length?n():L(e,o)}function q(){return document.querySelectorAll("body *")}function D(e,t,n,o){function i(){nt=d,Tt=f,B(nt,Tt,e)}function r(){function e(e,t){var n=Math.abs(e-t)<=yt;return!n}return d=void 0!==n?n:At[it](),f=void 0!==o?o:Nt[St](),e(nt,d)||G&&e(Tt,f)}function u(){return!(e in{init:1,interval:1,size:1})}function c(){return it in mt||G&&St in mt}function l(){a("No change in size detected")}function s(){u()&&c()?j(t):e in{interval:1}||l()}var d,f;r()||"init"===e?(H(),i()):s()}function P(e,t,n,o){function i(){e in{reset:1,resetPage:1,init:1}||a("Trigger event: "+t)}function r(){return bt&&e in Z}r()?a("Trigger event cancelled: "+e):(i(),Ct(e,t,n,o))}function H(){bt||(bt=!0,a("Trigger event lock on")),clearTimeout(Et),Et=setTimeout(function(){bt=!1,a("Trigger event lock off"),a("--")},et)}function W(e){nt=At[it](),Tt=Nt[St](),B(nt,Tt,e)}function j(e){var t=it;it=ot,a("Reset trigger event: "+e),H(),W("reset"),it=t}function B(e,t,n,o,i){function r(){void 0===i?i=pt:a("Message targetOrigin: "+i)}function u(){var r=e+":"+t,u=ft+":"+r+":"+n+(void 0!==o?":"+o:"");a("Sending message to host page ("+u+")"),ht.postMessage(st+u,i)}!0===vt&&(r(),u())}function V(t){function n(){return st===(""+t.data).substr(0,dt)}function o(){at=t.data,ht=t.source,c(),tt=!1,setTimeout(function(){rt=!1},et)}function i(){rt?a("Page reset ignored by init"):(a("Page size reset by host page"),W("resetPage"))}function r(){P("resizeParent","Parent window requested size check")}function u(){var e=s();ut.findTarget(e)}function l(){return t.data.split("]")[1].split(":")[0]}function s(){return t.data.substr(t.data.indexOf(":")+1)}function d(){return"iFrameResize"in e}function f(){var e=s();a("MessageCallback called from parent: "+e),Mt(JSON.parse(e)),a(" --")}function m(){return t.data.split(":")[2]in{"true":1,"false":1}}function g(){switch(l()){case"reset":i();break;case"resize":r();break;case"moveToAnchor":u();break;case"message":f();break;default:!d()&&!m()}}function v(){!1===tt?g():m()?o():a('Ignored message of type "'+l()+'". Received before initialization.')}n()&&v()}function _(){"loading"!==document.readyState&&e.parent.postMessage("[iFrameResizerChild]Ready","*")}var J=!0,Q=10,U="",K=0,X="",Y=null,$="",G=!1,Z={resize:1,click:1},et=128,tt=!0,nt=1,ot="bodyOffset",it=ot,rt=!0,at="",ut={},ct=32,lt=!1,st="[iFrameSizer]",dt=st.length,ft="",mt={max:1,min:1,bodyScroll:1,documentElementScroll:1},gt="child",vt=!0,ht=e.parent,pt="*",yt=0,bt=!1,Et=null,wt=0,Tt=1,Ot="scroll",St=Ot,Mt=function(){u("MessageCallback function not defined")},kt=function(){},It=Date.now||function(){return(new Date).getTime()},At={bodyOffset:function(){return document.body.offsetHeight+x("marginTop")+x("marginBottom")},offset:function(){return At.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,R(At))},min:function(){return Math.min.apply(null,R(At))},grow:function(){return At.max()},lowestElement:function(){return Math.max(At.bodyOffset(),L("bottom",q()))},taggedElement:function(){return F("bottom","data-iframe-height")}},Nt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Nt.bodyScroll(),Nt.documentElementScroll())},max:function(){return Math.max.apply(null,R(Nt))},min:function(){return Math.min.apply(null,R(Nt))},leftMostElement:function(){return L("left",q())},taggedElement:function(){return F("left","data-iframe-width")}},Ct=i(D);t(e,"message",V),_()}(window||{});var e=function(){try{var e,t,n,o=[],i=[];if(document.querySelectorAll?(o=document.querySelectorAll("a"),i=document.querySelectorAll("form")):"function"==typeof jQuery&&(o=jQuery('a[href=""]'),i=jQuery("form")),window.parent!==window){for(var r=0;r<o.length;r++)e=o[r],t=e.getAttribute("href"),t?"#"===t?e.target="_self":e.pathname===window.location.pathname&&(e.pathname=window.parent.location.pathname):e.href=window.parent.location.pathname,e.target||(e.target="_parent");for(var a=0;a<i.length;a++)n=i[a],"locksmith-passcode-form"!==n.id&&(n.target||(n.target="_parent"))}else{var u="{{ locksmith_path }}";u&&(window.location=u)}}catch(c){console.error&&console.error(c)}};window.addEventListener&&window.addEventListener("load",e)}();</script> {% endif %} {% endif %} {% endif %} {% endif %}{{ locksmith_json }}<script type="text/javascript">!function(){try{if(!document.addEventListener||!document.querySelector)return;var e,t,n,o=[76,79,67,75,83,77,73,84,72,49,49],r=function(){t=o.slice(0)},i="style",d=function(t){t&&27!==t.keyCode&&"click"!==t.type||(document.removeEventListener("keydown",d),document.removeEventListener("click",d),e&&document.body.removeChild(e),e=null)};r(),document.addEventListener("keyup",function(o){if(o.keyCode===t[0]){if(clearTimeout(n),t.shift(),t.length>0)return void(n=setTimeout(r,1e3));r(),d();var c=document.querySelector('script[type="application/vnd.locksmith+json"]'),a=c&&c.innerHTML;if(!a)return;e=document.createElement("div"),e[i].width="50%",e[i].maxWidth="500px",e[i].height="35%",e[i].border="1px rgba(0, 0, 0, 0.2) solid",e[i].background="rgba(255, 255, 255, 0.99)",e[i].borderRadius="2px",e[i].position="fixed",e[i].top="50%",e[i].left="50%",e[i].transform="translateY(-50%) translateX(-50%)",e[i].boxShadow="0 2px 5px rgba(0, 0, 0, 0.3), 0 0 100px 500px rgba(255, 255, 255, 0.87)";var l=document.createElement("textarea");l.value=a,l[i].border="none",l[i].display="block",l[i].boxSizing="border-box",l[i].width="100%",l[i].height="100%",l[i].background="transparent",l[i].padding="10px",l[i].fontFamily="monospace",l[i].fontSize="13px",l[i].color="#333",l[i].resize="none",l[i].outline="none",l.readOnly=!0,e.appendChild(l),l.addEventListener("click",function(e){e.stopImmediatePropagation(),l.select()}),document.body.appendChild(e),l.select(),document.addEventListener("keydown",d),document.addEventListener("click",d)}})}catch(c){console.error("locksmith",c)}}();</script>