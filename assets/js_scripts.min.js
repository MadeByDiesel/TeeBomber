!function(a){"true"==a.themeSettings.newsletter_check&&a(window).load(function(){var b=a("#mc-embedded-subscribe-form"),c=a("#newsletter-button"),d=a("#newsletter-text"),e=parseInt(a.themeSettings.newsletter_auto),f="ontouchstart"in window;0==e||"yes"==a.cookie("shopifyNewsletterShowed")||f&&"true"==a.themeSettings.newsletter_mobile||setTimeout(function(){c.trigger("click"),a.cookie("shopifyNewsletterShowed","yes",{path:"/",expire:365})},1e3*e),b.submit(function(c){b.fadeOut(200);var e=b.prop("action");e.indexOf("post-json")<0&&(e=e.replace("post","post-json")+"&c=?"),a.ajax({type:b.prop("method"),url:e,data:b.serialize(),cache:!1,dataType:"jsonp",error:function(a,b){d.html("").css("opacity",0).html("Server error - check your MailChimp settings!").animate({opacity:1},200)},success:function(a,b){d.html("").css("opacity",0).html(a.msg.replace("0 -","")).animate({opacity:1},200)}}),c.preventDefault()}),c.on("click",function(){b.fadeIn(0),d.html(a.themeWords.general_newsletter_content_html),b.find("#mce-EMAIL").val("")})}),a(document).ready(function(){"use strict";function t(){s?(k.css("display","none").appendTo(c),g.css({opacity:0,visibility:"hidden"}),setTimeout(function(){k.css("display","block")},100)):(k.css("display","none").appendTo(d),g.css({opacity:1,visibility:"visible"}),h.removeClass("opened"),i.hide(),setTimeout(function(){k.css("display","block")},100))}function y(b){b.parent().height(b.outerHeight());var c=a(window).height()-b.outerHeight();0>=c&&(-a(window).scrollTop()<=c?b.css({top:c}):b.css({top:Math.ceil(-a(window).scrollTop())}))}function H(a){J("in"),F.stop().fadeIn(),a.stop().css("visibility","visible").delay(200).animate({opacity:1,top:0},200,"easeInQuad").addClass("opened")}function I(){J("out"),F.stop().fadeOut(),F.find(".opened").stop().animate({opacity:0,top:-100},300,"easeInQuad",function(){a(this).css("visibility","hidden")}).removeClass("opened")}function J(d){"in"==d?(b.addClass("killflow"),n&&(G=a(window).scrollTop(),c.addClass("killflow-ios"))):(b.removeClass("killflow"),n&&(c.removeClass("killflow-ios"),c.css("top",0),a("html,body").animate({scrollTop:G},0)))}function R(b){var d=100;if(c.hasClass("template-index"))var d=1e3;a(b.slides).find(".slide-img").delay(d).animate({opacity:1},300),a(window).trigger("resize"),b.onResize(),setTimeout(function(){a(window).trigger("resize"),b.onResize(),a("#home-slider").addClass("loaded")},1e3),null!=O&&setTimeout(function(){O.show(),a(".blog-grid").length>0&&a(".blog-grid").imagesLoaded(function(){a(".blog-grid").isotope({selector:".post"})}),a(window).trigger("resize")},500),L.length>1&&(M.find(".tot").text(L.length),M.fadeIn(200)),S(b,1e3)}function S(b,c){setTimeout(function(){var c=0;a(b.slides[b.activeIndex]).find(".label").each(function(){a(this).stop().delay(120*c++ +300).animate({opacity:1,top:0},250).css("visibility","visible")})},c)}function $(b){"fit-both"==a.themeSettings.gallery_resizing?(a(window).on("resize.removeLater",aa),aa()):(a(window).on("resize.removeLater",ba),ba()),a(b.slides).find("img").delay(500).animate({opacity:1},500),a(window).trigger("resize"),b.onResize(),setTimeout(function(){a(window).trigger("resize"),b.onResize(),a("#product-page").removeClass("loading"),a("#product-gallery").addClass("loaded")},1e3),void 0!=a.swiperVariantAlready&&setTimeout(function(){b.slideTo(a.swiperVariantAlready)},100)}function _(){Z.find("img").each(function(){var b=a(this);b.css({left:Math.round((X.width()-b.width())/2)})}),setTimeout(function(){Z.height(Z.find(".swiper-slide-active img").height())},200)}function aa(){"block"!=p.css("display")?Z.find("img").each(function(){var b=a(this),c=a(window).height(),d=X.width(),e=b.naturalHeight(),f=b.naturalWidth(),g=Math.max(f/e,e/f),h=0,i=0;f>e?d/g>c?(h=c,i=c*g):(i=d,h=d/g):c/g>d?(i=d,h=d*g):(h=c,i=c/g),b.css({width:Math.ceil(i),height:Math.ceil(h)}),b.css({top:Math.round((a(window).height()-b.height())/2),left:Math.round((X.width()-b.width())/2)}),Z.height(a(window).height())}):_(),ca()}function ba(){"block"!=p.css("display")?Z.find("img").each(function(){var b=a(this),c=a(window).height(),d=Z.width(),e=b.naturalHeight(),f=b.naturalWidth(),g=Math.max(f/e,e/f),h=0,i=0;f>e?c>d/g?(h=c,i=c*g):(i=d,h=d/g):d>c/g?(i=d,h=d*g):(h=c,i=c/g),b.css({width:Math.ceil(i),height:Math.ceil(h)}),"none"!=b.css("maxWidth")&&(i>parseInt(b.css("maxWidth"))||h>parseInt(b.css("maxHeight")))?b.css({top:Math.round((c-b.height())/2),left:Math.round((d-b.width())/2)}):b.css({top:Math.round((c-h)/2),left:Math.round((d-i)/2)}),Z.height(a(window).height())}):_(),ca()}function ca(){"block"==p.css("display")?W.css("marginTop",X.height()):W.css("marginTop",0)}function da(a,b){return 0==a?a=b-2:a==b-1&&(a=1),a}var b=a("html"),c=a("body"),d=a("#sidebar"),e=a("#logo"),f=a("#meta"),g=a("#menu"),h=f.find(".responsive-menu"),i=a(".responsive-close"),k=(a("#options"),a("#footer")),l=a("#content"),m="ontouchstart"in window,n=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);m&&c.removeClass("no-touch").addClass("touch"),k.removeClass("loading"),a("#page-content").fitVids(),2==a("#menu").children(".top-menu").length&&a("#menu").children(".top-menu").eq(0).addClass("collections");var o=null;a("#menu").find("a").click(function(b){var c=a(this).parent();if(c.hasClass("submenu")){var d=c,e=c.children("ul");d.hasClass("opened")?(d.removeClass("opened"),e.stop().slideUp({duration:150,easing:"easeOutQuad",progress:function(){a(window).trigger("resize")},complete:function(){setTimeout(function(){a(window).trigger("resize")},100)}})):(d.addClass("opened"),o=e,e.stop().slideDown({duration:200,easing:"easeInQuad",progress:function(){a(window).trigger("resize")},complete:function(){a(this).css("overflow","visible"),setTimeout(function(){a(window).trigger("resize")},100)}})),b.preventDefault()}}),h.children("a").click(function(a){h.hasClass("opened")||(h.addClass("opened"),J("in"),g.css("visibility","visible").stop().animate({opacity:1},200,function(){i.show()})),a.preventDefault()}),i.click(function(b){h.hasClass("opened")&&(h.removeClass("opened"),J("out"),g.stop().animate({opacity:0},200,function(){a(this).css("visibility","hidden")}),i.hide()),b.preventDefault()}),a(".ie8 #meta .svg").click(function(){a(this).hasClass("search")?a("#main-search").trigger("click"):window.location.href=a(this).parent().find("a").attr("href")}),c.append('<div><div id="size-mobilest"></div><div id="size-mobile"></div><div id="size-tablet"></div></div>');var p=a("#size-tablet"),q=a("#size-mobile"),r=a("#size-mobilest"),s=!1;if(a(window).on("resize",function(){"block"!=q.css("display")||s?"none"==q.css("display")&&s&&(s=!1,t()):(s=!0,t())}).trigger("resize"),window.addEventListener&&window.addEventListener("orientationchange",function(){setTimeout(function(){a(window).trigger("resize")},1e3)},!1),b.hasClass("ie8")){var u=a("#content"),v=a("#cart-form").find(".content"),w=a("#product-gallery");a(window).on("resize",function(){u.width(a(window).width()-290),"block"==r.css("display")?v.width("calc(100% - 100px)"):v.width("calc(100% - 340px)"),a(window).width()<1626?w.width(u.width()-330):w.width(.75*u.width())}).trigger("resize")}g.after('<div class="dummy-height"></div>');var x=a(".dummy-height");if(a(window).on("resize.scrollFix",function(){x.height(Math.ceil(a(window).height()-e.outerHeight(!0)-f.outerHeight(!0)-g.outerHeight(!0)-k.outerHeight(!0)-94))}),setTimeout(function(){a(window).trigger("resize.scrollFix")},100),setTimeout(function(){a(window).trigger("resize.scrollFix")},1e3),a("#footer").children().each(function(){a.trim(a(this).html())||a(this).remove()}),a(window).on("scroll.scrollFix resize.scrollFix",function(){"block"!=q.css("display")&&(y(a("#sidebar")),y(a("#content"))),"block"==q.css("display")&&e.height()+40<=a(window).scrollTop()?c.addClass("meta-fixed"):c.removeClass("meta-fixed")}),"overlay"==a.themeSettings.cart_action){var z=a("#add-to-cart"),A=a("#addToCartText"),B=a("#addToCart"),C=a("#ajaxCartButton"),D=a("#meta .count"),E=a("#add-to-cart #quantity");z.submit(function(b){var c=A.html();A.html('<i class="fa fa-circle-o-notch fa-spin"></i>'),B.css("pointer-events","none"),a.ajax({type:z.prop("method"),url:z.prop("action"),data:z.serialize(),success:function(){C.trigger("click"),setTimeout(function(){A.html(c),B.css("pointer-events","all")},500),E.length>0?D.text(parseInt(D.text())+parseInt(E.val())):D.text(parseInt(D.text())+1)}}),b.preventDefault()})}var F=a("#main-overlay"),G=0;if(a(".overlay-button").each(function(){a(this).click(function(b){H(a(a(this).data("overlay"))),"#search-overlay"==a(this).data("overlay")&&a('#search-overlay input[type="search"]').focus(),b.preventDefault()})}),F.find(".close.main").click(function(a){I(),a.preventDefault()}),F.children("div").click(function(a){I()}),F.find(".simple-overlay-box, #newsletter-box").click(function(a){a.stopImmediatePropagation()}),a("#share-overlay").find("a:not(.close)").click(function(b){var c=a(this).attr("href"),d=window.open(c,a.themeWords.products_page_share_text,"height=400,width=700");window.focus&&d.focus(),b.preventDefault()}),c.hasClass("template-index")){var K=a("#home-slider"),L=K.find(".slide"),M=K.find(".draw-buttons"),N=M.find(".cur"),O=a(".home-content"),P=K.find("img")[0],Q=null;1==L.length&&K.addClass("disabled"),Q=K.swiper({effect:"fade"==a.themeSettings.carousel_transition?"fade":"slide",mode:"horizontal",loop:!0,calculateHeight:!1,grabCursor:!0,useCSS3Transforms:!0,resizeReInit:!0,updateOnImagesReady:!1,pagination:".swiper-pagination",paginationClickable:!0,autoplay:"true"==a.themeSettings.carousel_autoplay&&L.length>1?1e3*parseInt(a.themeSettings.carousel_timer):null,autoplayDisableOnInteraction:!0,speed:300,resistance:!1,keyboardControl:!0,onInit:function(b){K.find(".btn-next").on("click",function(a){b.slideNext(),a.preventDefault()}),K.find(".btn-prev").on("click",function(a){b.slidePrev(),a.preventDefault()}),P.complete||P.naturalWidth>0?R(b):(a(P).attr("src",a(P).attr("src")),a(P).on("load",function(){R(b)})),K.find("img").on("load",function(){a(window).trigger("resize")})},onTouchStart:function(b){a(b.container).addClass("grabbing")},onTouchEnd:function(b){a(b.container).removeClass("grabbing")},onSlideChangeStart:function(b){N.text(da(b.activeIndex,b.slides.length)),a(b.slides[b.activeIndex]).find(".label").css({opacity:0,top:60})},onSlideChangeEnd:function(b){S(b,0),a(window).trigger("resize"),setTimeout(function(){a(window).trigger("resize")},200)}}),a(window).on("resize",function(){"block"==r.css("display")?(K.height(K.find(".swiper-slide-active img").height()+K.find(".swiper-slide-active .slide-caption").outerHeight()),void 0!=Q&&Q.onResize()):"block"==q.css("display")?(K.height(K.find(".swiper-slide-active img").height()),void 0!=Q&&Q.onResize()):K.height(a(window).height())})}if(a(".isotope-products").length>0&&a(".isotope-products").each(function(){var b=a(this),d=a(this).find(".grid-item"),e=c.hasClass("template-index")&&a(this).hasClass("collections-list")?640:"large"==a.themeSettings.collections_size?640:480;b.imagesLoaded(function(){b.isotope({selector:".grid-item",resizable:!1,resizesContainer:!0}),setTimeout(function(){b.addClass("loaded"),b.find("img").each(function(){a(this).animate({opacity:1},200),a(this).parent().find(".add").css("opacity",1),a(this).parent().data("ratio",a(this).naturalHeight()/a(this).naturalWidth())})},500),a(window).trigger("resize")}),a(window).on("resize",function(){var c=l.width()+3;a(window).height();switch(a.themeSettings.collections_border){case"true":c-=9;break;case"true tiny":c-=2;break;case"true large":c-=12}b.width(c),d.each(function(){var b=Math.floor(c/Math.ceil(c/e));a(this).width(b)}),b.isotope()}).trigger("resize")}),c.hasClass("template-product")){if("true"==a.themeSettings.truncated_description){a('div[itemprop="description"]').append('<a href="#" id="more">'+a.themeWords.products_page_more_description_label+"</a>");var T=a('div[itemprop="description"] > div'),U=a("#more"),V=!1;T.css("height","auto"),T.height()<=a.themeSettings.truncated_description_lines?a("#more").remove():T.css("height",a.themeSettings.truncated_description_lines),a("#more").click(function(b){if(V)V=!1,U.text(a.themeWords.products_page_more_description_label),T.stop().animate({height:a.themeSettings.truncated_description_lines},{duration:200,easing:"easeInSine",progress:function(){a(window).trigger("resize")},complete:function(){setTimeout(function(){a(window).trigger("resize")},100)}});else{V=!0,U.text(a.themeWords.products_page_less_description_label),T.css("height","auto");var c=T.height();T.css("height",a.themeSettings.truncated_description_lines),T.stop().animate({height:c},{duration:250,easing:"easeInSine",progress:function(){a(window).trigger("resize")},complete:function(){a(this).css("height","auto"),setTimeout(function(){a(window).trigger("resize")},100)}})}b.preventDefault()})}var W=a("#product-content"),X=a("#product-gallery"),Y=X.find(".swiper-slide"),Z=X.find(".swiper-container"),P=X.find("img")[0];a.swiper=Z.swiper({effect:"fade"==a.themeSettings.gallery_transition?"fade":"slide",mode:"horizontal",loop:!0,calculateHeight:!1,grabCursor:!0,useCSS3Transforms:!0,resizeReInit:!0,updateOnImagesReady:!1,pagination:".swiper-pagination",autoplay:"true"==a.themeSettings.gallery_autoplay&&Y.length>1?1e3*parseInt(a.themeSettings.gallery_timer):null,autoplayDisableOnInteraction:!0,speed:300,resistance:!1,keyboardControl:!0,onInit:function(b){b.slides.length-2>1?X.append('<div class="draw-buttons gal swiper-nav three"><div class="holder"><span class="swiper-no"><span class="cur">1</span><span class="tot">'+(b.slides.length-2)+'</span></span><span class="btn-prev">'+a.themeAssets.arrowLeft+'<a href="#" class="swiper-prev"></a></span><span class="btn-next">'+a.themeAssets.arrowRight+'<a href="#" class="swiper-next"></a></span></div></div>'):(X.append('<div class="draw-buttons gal swiper-nav three" style="pointer-events: none"><div class="holder"><span class="swiper-no"><span class="cur">1</span><span class="tot">'+(b.slides.length-2)+"</span></span></div></div>"),a(b.container).css("pointer-events","none")),X.find(".swiper-next").on("click",function(a){b.slideNext(),a.preventDefault()}),X.find(".swiper-prev").on("click",function(a){b.slidePrev(),a.preventDefault()}),P.complete||P.naturalWidth>0?$(b):(a(P).attr("src",a(P).attr("src")),a(P).on("load",function(){$(b)})),"false"==a.themeSettings.gallery_max_size&&Z.find("img").each(function(){a(this)[0].complete||a(this)[0].naturalWidth>0?(a(this).css("max-width",a(this).naturalWidth()),a(this).css("max-height",a(this).naturalHeight())):a(this).on("load",function(){a(this).css("max-width",a(this).naturalWidth()),a(this).css("max-height",a(this).naturalHeight())})}),Z.find("img").on("load",function(){a(window).trigger("resize")})},onTouchStart:function(b){a(b.container).addClass("grabbing")},onTouchEnd:function(b){a(b.container).removeClass("grabbing")},onSlideChangeStart:function(a){X.find(".cur").text(da(a.activeIndex,a.slides.length))}})}c.hasClass("template-blog")?a(".blog-grid").imagesLoaded(function(){a(".template-blog .blog-grid").isotope({selector:".post"})}):c.hasClass("template-article")&&(jQuery.timeago.settings.strings={prefixAgo:null,prefixFromNow:null,suffixAgo:a.themeWords.suffixAgo,suffixFromNow:a.themeWords.suffixFromNow,seconds:a.themeWords.seconds,minute:a.themeWords.minute,minutes:a.themeWords.minutes,hour:a.themeWords.hour,hours:a.themeWords.hours,day:a.themeWords.day,days:a.themeWords.days,month:a.themeWords.month,months:a.themeWords.months,year:a.themeWords.year,years:a.themeWords.years,wordSeparator:" ",numbers:[]},a(".timeago").timeago()),c.hasClass("template-index")&&0==a("#home-slider").length&&a(".blog-grid").length>0&&a(".blog-grid").imagesLoaded(function(){a(".blog-grid").isotope({selector:".post"})}),a("#options select").each(function(){a(this).styledSelect({coverClass:"simple-select-cover",innerClass:"simple-select-inner"}).addClass("styled"),a(this).parent().append(a.themeAssets.arrowDown)}),a("select:not(.styled)").each(function(){a(this).styledSelect({coverClass:"regular-select-cover",innerClass:"regular-select-inner"}),a(this).parent().append(a.themeAssets.arrowDown)}),a(".krown-tabs").each(function(){var b=a(this).children(".titles").children("h5"),c=a(this).children(".contents").children("div"),d=b.eq(0),e=c.eq(0);d.addClass("opened"),e.stop().slideDown(0),b.find("a").prop("href","#").off("click"),b.click(function(b){d.removeClass("opened"),d=a(this),d.addClass("opened"),e.stop().slideUp(200),e=c.eq(a(this).index()),e.stop().delay(200).slideDown(200),b.preventDefault()})})})}(jQuery);